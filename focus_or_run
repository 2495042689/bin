#! /bin/dash

while [ $# -gt 0 ] ; do
    case "$1" in
        browser)
            name=$BROWSER
            cmd="fork $name"
            ;;
        *)
            name=$1
            case "$1" in
                mutt)
                    cmd=m
                    ;;
                bspwmrc|sxhkdrc)
                    cmd="editor ${XDG_DOTFILES_DIR}/$1"
                    ;;
                ncmpcpp|top)
                    cmd=$1
                    ;;
                *)
                    cmd="editor ${XDG_DATA_HOME}/$1"
                    ;;
            esac
            cmd="urxvtc -name "$name" -e $cmd"
            ;;
    esac
    wid=$(xdo id -n "$name" $(bspc query -W) | head -n 1)
    if [ -n "$wid" ] ; then
        bspc window "$wid" -f
    else
        $cmd
    fi
    shift
done
