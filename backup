#! /bin/sh

while [ $# -gt 0 ]
do
	filelist=""
	case "$1" in
		prefs)
			for app in Finder QuickSilver Preview iTerm Skim Snes9x Transmission Spectacle ; do
				filelist="$filelist prefs/$(bid ${app}).plist"
			done
			filelist="$filelist prefs/com.apple.symbolichotkeys.plist prefs/pbs.plist prefs/fs-uae"
			;;
		support)
			filelist="support/Quicksilver support/Chromium/Default"
			;;
		services)
			filelist="Library/Services"
			;;
		dots)
			filelist=".coordinates .github_api_token .mpoprc .msmtprc .procmailrc .eatrc .castgetrc"
			;;
		dirs)
			filelist=".local .config .mutt .vim .mpd .themes .fonts .icons .aria2 .irssi .pal .FontForge .ssh .w3m .elinks .lftp .ncmpcpp .audacity-data .audacity-files"
			;;
		usenet)
			filelist=".jnewsrc .usenet_id .usenet .slrn"
			;;
		mail)
			filelist=".maildir"
			;;
		src)
			filelist="src/lang"
			;;
		abs)
			filelist="src/abs"
			;;
		doc)
			filelist="doc"
			;;
		sys)
			filelist="/etc/hooks.d /etc/auto_livebox /etc/auto_master /etc/dictd.conf $(find `brew --prefix`/share/dictd -type f)"
			;;
	esac
	if [ -n "$filelist" ] ; then
		tar -cvz -C "$HOME" -f "${1}.tgz" $filelist
	fi
	shift
done
